import random  # å¯¼å…¥éšæœºæ•°æ¨¡å—ï¼Œç”¨äºç”Ÿæˆç›®æ ‡æ•°å­—


def guess_number_game():
    """
    çŒœæ•°å­—æ¸¸æˆæ ¸å¿ƒå‡½æ•°
    è§„åˆ™ï¼šç³»ç»Ÿéšæœºç”Ÿæˆ1-100çš„æ•´æ•°ï¼Œç©å®¶è¾“å…¥æ•°å­—ï¼Œç³»ç»Ÿæç¤ºâ€œå¤§äº†/å°äº†/çŒœå¯¹äº†â€ï¼Œç»Ÿè®¡çŒœæ•°æ¬¡æ•°
    """
    # 1. åˆå§‹åŒ–æ¸¸æˆå‚æ•°
    target_num = random.randint(1, 100)  # ç”Ÿæˆ1-100ä¹‹é—´çš„éšæœºæ•´æ•°ï¼ˆåŒ…å«1å’Œ100ï¼‰
    guess_count = 0  # è®°å½•ç©å®¶çŒœæ•°æ¬¡æ•°
    print("===== çŒœæ•°å­—æ¸¸æˆ =====")
    print("ğŸ’¡ è§„åˆ™ï¼šç³»ç»Ÿå·²ç”Ÿæˆ1-100ä¹‹é—´çš„éšæœºæ•´æ•°ï¼Œè¯·å¼€å§‹çŒœæ•°ï¼")

    # 2. å¾ªç¯çŒœæ•°é€»è¾‘
    while True:
        # å¤„ç†ç”¨æˆ·è¾“å…¥å¼‚å¸¸ï¼ˆæ¯”å¦‚è¾“å…¥å­—æ¯ã€ç¬¦å·ç­‰éæ•°å­—å†…å®¹ï¼‰
        try:
            user_input = input("\nè¯·è¾“å…¥ä½ çŒœæµ‹çš„æ•°å­—ï¼ˆ1-100ï¼‰ï¼š")
            guess_num = int(user_input)  # å°è¯•å°†è¾“å…¥è½¬ä¸ºæ•´æ•°
        except ValueError:
            print("âŒ è¾“å…¥é”™è¯¯ï¼è¯·è¾“å…¥1-100ä¹‹é—´çš„æ•´æ•°ï¼Œä¸è¦è¾“å…¥å­—æ¯/ç¬¦å·~")
            continue  # è·³è¿‡æœ¬æ¬¡å¾ªç¯ï¼Œé‡æ–°è®©ç”¨æˆ·è¾“å…¥

        # æ£€æŸ¥è¾“å…¥æ˜¯å¦åœ¨1-100èŒƒå›´å†…
        if guess_num < 1 or guess_num > 100:
            print("âš ï¸ æ•°å­—è¶…å‡ºèŒƒå›´ï¼è¯·è¾“å…¥1-100ä¹‹é—´çš„æ•´æ•°~")
            continue

        # çŒœæ•°æ¬¡æ•°+1
        guess_count += 1

        # 3. åˆ¤æ–­çŒœæµ‹ç»“æœ
        if guess_num > target_num:
            print(f"ğŸ“‰ çŒœå¤§äº†ï¼å½“å‰å·²çŒœ {guess_count} æ¬¡")
        elif guess_num < target_num:
            print(f"ğŸ“ˆ çŒœå°äº†ï¼å½“å‰å·²çŒœ {guess_count} æ¬¡")
        else:
            # çŒœå¯¹äº†ï¼Œç»“æŸæ¸¸æˆ
            print("\nğŸ‰ æ­å–œä½ çŒœå¯¹äº†ï¼ç›®æ ‡æ•°å­—å°±æ˜¯", target_num)
            print(f"ğŸ¯ ä½ ä¸€å…±çŒœäº† {guess_count} æ¬¡")
            break  # é€€å‡ºå¾ªç¯ï¼Œç»“æŸæœ¬è½®æ¸¸æˆ

    # 4. è¯¢é—®æ˜¯å¦é‡ç©
    play_again = input("\næ˜¯å¦è¦å†ç©ä¸€å±€ï¼Ÿ(è¾“å…¥ y ç»§ç»­ï¼Œå…¶ä»–é”®é€€å‡º)ï¼š").lower()
    if play_again == "y":
        guess_number_game()  # é€’å½’è°ƒç”¨ï¼Œé‡æ–°å¼€å§‹æ¸¸æˆ
    else:
        print("ğŸ‘‹ æ¸¸æˆç»“æŸï¼Œä¸‹æ¬¡å†è§ï¼")


# å¯åŠ¨æ¸¸æˆ
if __name__ == "__main__":
    guess_number_game()
